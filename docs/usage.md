---
title: Usage
authors: Dr Marcus Baw, Matt Stibbs
---

## Usage

!!! danger "IMPORTANT: **You should never need to generate an NHS Number for a live system**"
    Live NHS, CHI, H&C and IHI numbers are _always_ generated by some kind of central authority or registry, such as the NHS Spine in England, and they are assigned to patients, often at or near birth, or at the point of becoming a user of that health system.

    In general unless you are representing a central health authority, you should never need to generate an NHS Number for a live system. If you are a patient, you should never need to generate an NHS Number for yourself.

    This package is intended for use in testing and development environments, where you need to generate NHS Numbers for testing or research purposes, or for use in synthetic data generation.

### `is_valid()`

Returns `True` if the NHS Number is valid, `False` if not.

```python
>>> import nhs_number

# test a valid number
>>> nhs_number.is_valid('1234567891')
True

# test an invalid number
>>> nhs_number.is_valid('1234567890')
False

# test whether a number is valid for a specific region
# the for_region parameter can be any of the REGION_* constants (see below)
>>> nhs_number.is_valid('7709030025', for_region=nhs_number.REGION_ENGLAND)
True
```

!!! warning "Important note about Scottish CHI Number validation"
    At present this library does not reliably validate Scottish CHI Numbers. This is because the first 6 digits of a Scottish CHI Number must be a valid DDMMYY Date of Birth, and this library does not currently check for this. At the moment only the correct number range is checked for.

### `normalise_number()`

```python

>>> import nhs_number

>>> nhs_number.normalise_number('123 456 7891')
'1234567891'

>>> nhs_number.normalise_number('1234567891')
'1234567891'

>>> nhs_number.normalise_number('123-456-7890')
'1234567890'
```

### `generate()`

Returns a list of 1 or more valid NHS numbers generated randomly. 

By default numbers will be generated from any valid range, including ranges allocated for live patient use.

```python

>>> import nhs_number

# generate a single valid NHS Number
>>> nhs_number.generate()
['1633104249']

# generate multiple valid NHS Numbers
>>> nhs_number.generate(quantity=5)
['1633104249', '1633104257', '1633104265', '1633104273', '1633104281']

# generate a single valid NHS Number for a specific region
# the for_region parameter can be any of the REGION_* constants (see below)
>>> nhs_number.generate(for_region=nhs_number.REGION_ENGLAND)
['7709030025']
```

!!! warning "Working with synethetic / unallocated numbers only"
    If you want to avoid generating numbers which may have been allocated to real patients, apply the `for_region=REGION_SYNTHETIC` parameter to constrain the output of the function to only numbers from the 900000000n - 999999999n testing range.

### Regions

You can obtain Region objects via the package's `REGION_*` constants:

```python
>>> import nhs_number

# returns a Dict of all Region objects
>>> nhs_number.REGIONS
{'UNALLOCATED': <nhs_number.constants.Region object at 0x7fda8e0b0e50>, 'SCOTLAND': <nhs_number.constants.Region object at 0x7fda8e0b0d10>, 'NORTHERN_IRELAND': <nhs_number.constants.Region object at 0x7fda8e0b0d90>, 'ENGLAND_WALES_IOM': <nhs_number.constants.Region object at 0x7fda8e0b0d50>, 'RESERVED': <nhs_number.constants.Region object at 0x7fda8e0b0e90>, 'EIRE': <nhs_number.constants.Region object at 0x7fda8e0b0dd0>, 'SYNTHETIC': <nhs_number.constants.Region object at 0x7fda8e0b0e10>}

# returns a Region object for England
>>> nhs_number.ENGLAND_WALES_IOM
<nhs_number.constants.Region object at 0x7fda8e0b0d50>

# each Region has some aliases for ease of use
>>> nhs_number.ENGLAND_WALES_IOM == nhs_number.REGION_ENGLAND
True
```

!!! warning "Important note about Scottish CHI Number Generation"
    At present this library does not reliably generate valid Scottish CHI Numbers. This is because the first 6 digits of a Scottish CHI Number amust be a valid DDMMYY Date of Birth, and this library does not currently check for this.
